<div class="api-builder">
  <h2 id="test"><%= text %></h2>

<% operations = {'get' => path.get, 'put' => path.put, 'post' => path.post, 'delete' => path.delete, 'patch' => path.patch} %>
<% operations.compact.each do |key,operation| %>
<strong><%= key %></strong>
<% if operation.summary %>
  <p><em><%= operation.summary %></em></p>
<% end %>
<% if operation.description %>
  <p><%= operation.description %></p>
<% end %>
<% if operation.parameters.any? %>
<h3 id="test-2">Parameters</h3>
<table>
<thead>
<tr><th>Name</th><th>In</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<% operation.parameters.each do |parameter| %>
<tr>
<td><%= parameter.name %></td>
<td><%= parameter.in %></td>
<td><%= parameter.schema.type %></td>
<td><%= parameter.required? %></td>
<td><%= parameter.description %></td>
</tr>
<% end %>
</tbody>
</table>
<% end %>
<% end %>
</div>
